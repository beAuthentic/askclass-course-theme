
<div class="bubble-container {{ include.side }}">
  <div class="talk-bubble {{ include.side }} tri-right {{ include.side }}-in border round">
    <div class="talktext">
      {%- if session_data.index %}
        <div class="index">{{ include.index }}</div>
      {%- endif %}

      {% assign words = include.text | replace: '\', '<br/>' | split: " " %}
      {%- for raw in words %}
        {%- if session_data.mode == 'learn-english' %}
          {%- assign w = raw
            | replace: 'th', '<u>th</u>'
            | replace: 'Th', '<u>Th</u>'
            | replace: 'St', '<u>St</u>'
            | replace: 've', '<u>ve</u>'
            | replace: 'Ve', '<u>Ve</u>'
            | replace: 'dr', '<u>dr</u>'
            | replace: 'Dr', '<u>Dr</u>'
          %}
        {%- else %}
          {%- assign w = raw %}
        {%- endif %}

        {%- include session/hilight_word.html word=w %}
      {% endfor -%}
    </div>
  </div>
</div>
